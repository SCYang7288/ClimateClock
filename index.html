<!DOCTYPE html>
<html lang="ze">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>气候时钟 - 多语版V1.5</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: black;
      color: red;
      text-align: center;
      margin: 0;
      overflow: hidden;
    }

    /* Info pages container */
    .explanation-card {
  max-width: 85%;
  background-color: rgba(0, 255, 0, 0.08);
  color: #00ff00;
  padding: 20px 30px;
  border-radius: 16px;
  border: 1px solid #00ff00;
  font-size: 1.2vw;
  line-height: 1.6;
  text-align: left;
  position: relative;
  min-height: 380px;
  overflow: hidden;
  margin:40px auto;
      
}

.page {
  position: absolute; 
  top: 20px;
  left: 20px;
  right: 20px;
  bottom: 20px;
  opacity: 0;
  transition: opacity 1s ease-in-out;
  z-index: 0;
  display: flex;
  flex-direction: column;
  justify-content: center; /* keep centered vertically */
  align-items: flex-start;
  pointer-events: none;
  will-change: opacity;
}

.page.active {
  opacity: 1;
  z-index: 2;
  pointer-events: auto;
}
    /* Clock table style */
    .clock-table {
 display: flex;
 justify-content: center;
 align-items: center;
 position: fixed;/*Fixed; /* Fix it to the top */
 top: 40px;/*40px*/
 left: 0;
 width: 100%;
 height: 160px/*auto; /* Let the content define height */
 margin: 0;
 padding: 10px 0;
 background-color: black; /* optional, for contrast */
 z-index: 1000;
}
    .clock-row {
      display: flex;
      border: 4px solid #00ff00;
      border-radius: 12px;
      overflow: hidden;
      transform: scale(1.2); /* Slightly larger clock */
    }
    .clock-cell {
      border-right: 4px solid #00ff00;
      padding: 10px 20px;
      text-align: center;
      background-color: rgba(0, 255, 0, 0.05);
    }
    .clock-cell:last-child {
      border-right: none;
    }
    .time-value {
      font-size: 20vh; /* Responsive size */
      font-weight: bold;
      color: red;
      transition: transform 0.2s;
    }
    .time-label {
      font-size: 4vh; /* Responsive size */
      color: #00ff00;
    }

    @keyframes blinkEnlarge {
      0%   { color: red; transform: scale(1); }
      25%  { color: white; transform: scale(1.3); }
      50%  { color: red; transform: scale(1); }
      75%  { color: white; transform: scale(1.3); }
      100% { color: red; transform: scale(1); }
    }
    .blink-enlarge {
      animation: blinkEnlarge 0.5s ease;
    }

    /* Bottom panel */
    .bottom-panel {
      position: fixed;
      bottom: 0;
      width: 100%;
      background: #111;
      color: #00ff00;
      z-index: 10001;
    }
    .ticker-wrapper {
      width: 100%;
      background: #222;
      font-size: 1.5em;
      white-space: nowrap;
      overflow: hidden;
      padding: 8px 0;
      box-sizing: border-box;
    }
    .ticker {
      display: inline-block;
      padding-left: 100%;
      animation: ticker 40s linear infinite;
    }
    @keyframes ticker {
      0%   { transform: translateX(0); }
      100% { transform: translateX(-100%); }
    }
    .bottom-controls {
      padding: 8px 0;
      display: flex;
      justify-content: center;
      gap: 10px;
      background: #111;
    }
    .sound-controls button {
      background-color: #00ff00;
      color: black;
      font-size: 0.9em;
      padding: 6px 12px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    .language-select select {
      padding: 6px 10px;
      font-size: 0.9em;
      border-radius: 4px;
      border: none;
      background-color: #f1f1f1;
    }

    /* Make headings a bit more compact */
    .page h3 { margin: 0 0 8px 0; }
    .page p  { margin: 6px 0; }
  </style>
</head>
<body>

  <!-- Countdown clock -->
  <div class="clock-table">
    <div class="clock-row">
      <div class="clock-cell">
        <div class="time-value" id="yy">00</div>
        <div class="time-label" id="label-yy">年Years</div>
      </div>
      <div class="clock-cell">
        <div class="time-value" id="dd">00</div>
        <div class="time-label" id="label-dd">天Days</div>
      </div>
      <div class="clock-cell">
        <div class="time-value" id="hh">00</div>
        <div class="time-label" id="label-hh">時Hours</div>
      </div>
      <div class="clock-cell">
        <div class="time-value" id="mm">00</div>
        <div class="time-label" id="label-mm">分Minutes</div>
      </div>
      <div class="clock-cell">
        <div class="time-value" id="ss">00</div>
        <div class="time-label" id="label-ss">秒Seconds</div>
      </div>
    </div>
  </div>

  <!-- Multi-page explanation -->
  <div class="explanation-card">
    <div class="page active" id="page1"></div>
    <div class="page" id="page2"></div>
  </div>

  <!-- Bottom panel: ticker + controls -->
  <div class="bottom-panel">
    <div class="ticker-wrapper">
      <div class="ticker" id="tickerText"></div>
    </div>
    <div class="bottom-controls">
      <div class="language-select">
        <select id="langSelect" onchange="changeLanguage()">
          <option value="ze">简体中文English</option>
          <option value="zh"> 简体中文 </option>
          <option value="en">English</option>
          <option value="ms">Bahasa Melayu</option>
          <option value="ta">தமிழ்</option>
        </select>
      </div>
      <div class="sound-controls">
        <button onclick="startTick()">🔊</button>
        <button onclick="stopTick()">🔇</button>
      </div>
    </div>
  </div>

  <!-- Sound -->
  <audio id="tickSound" preload="auto">
    <source src="tick.mp3" type="audio/mpeg">
    您的浏览器不支援音讯播放。
  </audio>

  <script>
    const audio = document.getElementById("tickSound");
    audio.load();
    let tickEnabled = false;
    let prevValues = { yy: null, dd: null, hh: null, mm: null, ss: null };

    function startTick() { tickEnabled = true; }
    function stopTick() { 
      tickEnabled = false;
      audio.pause();
      audio.currentTime = 0;
    }

    const deadlineUTC = new Date(Date.UTC(2029, 6, 21, 16, 0, 0));

    function updateClock() {
      const now = new Date();
      const timeRemaining = deadlineUTC - now;
      if (timeRemaining <= 0) return;

      const format = n => String(n).padStart(2, '0');
      const values = {
        yy: format(Math.floor(timeRemaining / (1000 * 60 * 60 * 24 * 365))),
        dd: format(Math.floor((timeRemaining / (1000 * 60 * 60 * 24)) % 365)),
        hh: format(Math.floor((timeRemaining / (1000 * 60 * 60)) % 24)),
        mm: format(Math.floor((timeRemaining / (1000 * 60)) % 60)),
        ss: format(Math.floor((timeRemaining / 1000) % 60))
      };

      for (let id in values) {
        const elem = document.getElementById(id);
        if (prevValues[id] !== values[id]) {
          elem.textContent = values[id];
          elem.classList.add("blink-enlarge");
          setTimeout(() => elem.classList.remove("blink-enlarge"), 500);
        }
        prevValues[id] = values[id];
      }

      if (tickEnabled) {
        audio.currentTime = 0;
        audio.play().catch(() => {});
      }

      const nextTick = 1000 - now.getMilliseconds();
      setTimeout(updateClock, nextTick);
    }

    updateClock();

    const texts = {
      ze: {
        labels: ["年 Years", "天 Days", "时 Hours", "分 Minutes", "秒 Seconds"],
        ticker: "🌱 静思语：环保不是口号，而是生活的态度。&emsp; 🌱 Jing Si Aphorisms: Environmental protection is not a slogan, but a way of life.&emsp;🌿 静思语：人类若不爱护地球，大地将无以为继。&emsp; 🌿 Jing Si Aphorisms: If humanity doesn’t love the Earth, it will not sustain us.",
        page1: "<h3><strong>气候时钟</strong></h3><p><strong>缘起</strong>：始于 <strong>2020 年 9 月 19 日</strong>，当时它在纽约曼哈顿的 <strong>联合艺术大楼（Metronome）</strong> 上首次公开展示。</p><p><strong>定义</strong>：一个实时倒计时工具，显示全球碳排放预算（将升温控制在<strong>1.5°C</strong>以内）的剩余时间。</p><h3><strong>Climate Clock</strong></h3><p><strong>Origin</strong>: Started on <strong>19 September 2020</strong>, when it was first publicly displayed on the <strong>Metronome</strong> in Manhattan, New York.</p> <p><strong>Definition</strong>: A real-time countdown tool that shows the remaining global carbon budget time to keep warming within <strong>1.5°C</strong>.</p>",
        page2:"<h3><strong>气候时钟</strong></h3><p><strong>计算依据</strong>：基于当前温室气体排放速率和科学模型（如<strong>Intergovernmental Panel on Climate Change (IPCC)</strong>数据）。</p><p><strong>核心信息</strong>：提醒人类必须在时限前实现<strong>净零排放</strong>，否则将面临不可逆的气候灾难。</p><h3><strong>Climate Clock</strong></h3><p><strong>Calculation Basis</strong>: Based on current greenhouse gas emission rates and scientific models (such as <strong>Intergovernmental Panel on Climate Change (IPCC)</strong> data).</p><p><strong>Core Message</strong>: Reminds humanity that we must achieve <strong>net-zero emissions</strong> before the time runs out, or face irreversible climate disasters.</p>"
      },
            zh: {
          labels: ["年", "天", "时", "分", "秒"],
          ticker: "🌱 静思语：环保不是口号，而是生活的态度。&emsp;🌿 静思语：人类若不爱护地球，大地将无以为继。",
          page1: "<h3><strong>气候时钟</strong></h3><p><strong>缘起</strong>：始于 2020 年 9 月 19 日，首次于纽约曼哈顿 Metronome 公开展示。</p><p><strong>定义</strong>：一个实时倒数工具，显示全球碳排放预算（将升温控制在 1.5°C 以内）的剩余时间。</p>",
          page2: "<h3><strong>气候时钟</strong></h3><p><strong>计算依据</strong>：基于当前温室气体排放速率与科学模型 如（Intergovernmental Panel on Climate Change (IPCC)资料）。</p><p><strong>核心讯息</strong>：提醒人类必须在时限前实现净零排放，否则将面临不可逆的气候灾难。</p>"
        },
        en: {
          labels: ["Years", "Days", "Hours", "Minutes", "Seconds"],
          ticker: "🌱 Jing Si Aphorisms: Environmental protection is not a slogan, but a way of life.&emsp;🌿 Jing Si Aphorisms: If humanity doesn’t love the Earth, it will not sustain us.",
          page1: "<h3><strong>Climate Clock</strong></h3><p><strong>Origin</strong>: Started on 19 September 2020, first publicly displayed at the Metronome in Manhattan, New York.</p><p><strong>Definition</strong>: A real-time countdown showing the remaining global carbon budget to keep warming within 1.5°C.</p>",
          page2: "<h3><strong>Climate Clock</strong></h3><p><strong>Calculation Basis</strong>: Based on current greenhouse gas emission rates and scientific models (e.g.,Intergovernmental Panel on Climate Change (IPCC) data).</p><p><strong>Core Message</strong>: Humanity must reach net-zero emissions before time runs out or face irreversible climate disasters.</p>"
        },
        ms: {
          labels: ["Tahun", "Hari", "Jam", "Minit", "Saat"],
          ticker: "🌱 Aforisma Jing Si: Perlindungan alam sekitar bukan hanya slogan, tetapi gaya hidup.&emsp;🌿 Aforisma Jing Si: Jika manusia tidak menyayangi bumi, bumi tidak akan bertahan.",
          page1: "<h3><strong>Jam Iklim</strong></h3><p><strong>Asal-usul</strong>: Bermula pada 19 September 2020, pertama kali dipamerkan di Metronome, Manhattan, New York.</p><p><strong>Definisi</strong>: Alat kira detik masa nyata yang menunjukkan baki masa bajet karbon global untuk kekal dalam had 1.5°C.</p>",
          page2: "<h3><strong>Jam Iklim</strong></h3><p><strong>Asas Pengiraan</strong>: Berdasarkan kadar pelepasan gas rumah hijau semasa dan model saintifik (contohnya, data IPCC).</p><p><strong>Mesej Utama</strong>: Manusia mesti mencapai sifar bersih sebelum masa tamat atau menghadapi bencana iklim yang tidak dapat dipulihkan.</p>"
        },
        ta: {
          labels: ["ஆண்டு", "நாள்", "மணி", "நிமிடம்", "வினாடி"],
          ticker: "🌱 சூழலியல் என்பது முழக்கமல்ல, வாழ்வியல்.&emsp;🌿 பூமியைப் பாதுகாப்பது மனித குருதியின் கடமை.",
          page1: "<h3><strong>காலநிலை கடிகாரம்</strong></h3><p><strong>தொடக்கம்</strong>: 19 செப்டம்பர் 2020 அன்று மான்ஹாட்டன், நியூயார்க் நகரில் மெட்ரோனோமில் முதன்முதலாகக் காட்டப்பட்டது.</p><p><strong>வரையறை</strong>: உலகளாவிய கார்பன் பட்ஜெட்டின் மீதமுள்ள நேரத்தை காட்டும் நேரடி கவுண்ட்டவுன் கருவி, 1.5°C ஐ மீறாமல் வைத்திருக்க.</p>",
          page2: "<h3><strong>காலநிலை கடிகாரம்</strong></h3><p><strong>கணக்கீட்டு அடிப்படை</strong>: தற்போதைய பசுமைக் காற்று வாயு உமிழ்வு வீதங்கள் மற்றும் அறிவியல் மாதிரிகள் (உதா: IPCC தரவு) அடிப்படையில்.</p><p><strong>முக்கிய செய்தி</strong>: மனிதகுலம் நேரம் முடிவதற்கு முன் நிகர சுழற்சி வெளியீட்டை அடைய வேண்டும், இல்லையெனில் மாற்ற முடியாத காலநிலை பேரழிவுகளை சந்திக்க நேரிடும்.</p>"
        }
    };

    function changeLanguage() {
      const sel = document.getElementById("langSelect");
      const lang = sel ? sel.value : "ze";
      const data = texts[lang] || texts.ze;
      const labels = data.labels;
      document.getElementById("label-yy").textContent = labels[0];
      document.getElementById("label-dd").textContent = labels[1];
      document.getElementById("label-hh").textContent = labels[2];
      document.getElementById("label-mm").textContent = labels[3];
      document.getElementById("label-ss").textContent = labels[4];
      const ticker = document.getElementById("tickerText");
      ticker.innerHTML = data.ticker || "";
      ticker.classList.remove("ticker");
      void ticker.offsetWidth;
      ticker.classList.add("ticker");
      document.getElementById("page1").innerHTML = data.page1 || "";
      document.getElementById("page2").innerHTML = data.page2 || "";
   
  // 🔹 Dynamic card height based on language
  const card = document.querySelector(".explanation-card");
  if (lang === "ze") {
    card.style.minHeight = "380px"; // taller for bilingual text
  } else {
    card.style.minHeight = "240px"; // default for others
    }
     }

    let currentPage = 1;
    const CROSSFADE_OVERLAP_MS = 250;
    setInterval(() => {
      const p1 = document.getElementById("page1");
      const p2 = document.getElementById("page2");
      if (!p1 || !p2) return;
      if (currentPage === 1) {
        p2.classList.add("active");
        setTimeout(() => p1.classList.remove("active"), CROSSFADE_OVERLAP_MS);
        currentPage = 2;
      } else {
        p1.classList.add("active");
        setTimeout(() => p2.classList.remove("active"), CROSSFADE_OVERLAP_MS);
        currentPage = 1;
      }
    }, 30000);

    function adjustCardPosition() {
  const clock = document.querySelector(".clock-table");
  const card = document.querySelector(".explanation-card");
  if (clock && card) {
    const clockHeight = clock.offsetHeight;
    card.style.marginTop = (clockHeight + 40) + "px"; // 20px extra spacing
  }
}

window.addEventListener("resize", adjustCardPosition);
document.addEventListener("DOMContentLoaded", () => {
  changeLanguage();
  adjustCardPosition();
});
  </script>
</body>
</html>
